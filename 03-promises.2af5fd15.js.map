{"mappings":"AACAA,QAAUC,SAASC,cAAc,SACjCF,QAAQG,iBAAiB,UAIzB,SAAsBC,GACpBA,EAAIC,iBAyBN,UAAwBC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,IACnC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAC7BC,EAAcD,EAAI,EAAGH,EAAQC,EAAOE,GACnCE,MAAK,EAACC,SAAEA,EAAQP,MAAEA,MACjBQ,GAAkB,EAClBC,QAAQC,IAAI,GAAIH,KAAcJ,iBAAQK,iBAA0CR,OAAA,IAEjFW,OAAM,EAACJ,SAAEA,EAAQP,MAAEA,MAClBY,GAAiB,EACjBH,QAAQC,IAAI,GAAIH,KAAcJ,iBAAQS,iBAAyCZ,OAAA,G,CAjCrFa,CAGF,UAAwBb,MAAEA,EAAKE,KAAEA,EAAIC,OAAEA,IACrC,MAAO,CAAEH,MAAOc,OAAOd,EAAMe,OAAQb,KAAMY,OAAOZ,EAAKa,OAAQZ,OAAQW,OAAOX,EAAOY,O,CAJxEC,CAAetB,QAAQuB,U,IALtC,IAAIT,EAAiB,EACjBI,EAAgB,EAWpB,SAASP,EAAcE,EAAUP,GAC/B,MAAMkB,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EAEFI,EAAQ,C,SAAEf,E,MAAUP,IAGpBuB,EAAO,C,SAAEhB,E,MAAUP,GAAQ,GAE5BA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["\nformRef = document.querySelector('.form')\nformRef.addEventListener('submit', onFormSubmit);\nlet resolvePromise = 0;\nlet rejectPromise = 0;\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  totalPromise(getInputValues(formRef.elements));\n}\n\nfunction getInputValues({ delay, step, amount }) {\n  return { delay: Number(delay.value), step: Number(step.value), amount: Number(amount.value) };\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve({ position, delay });\n      } else {\n        // Reject\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}     \n\n\nfunction totalPromise({ delay, step, amount }) {\n  for (let i = 0; i < amount; i += 1) {\n      createPromise(i + 1, delay + step * i)\n      .then(({ position, delay }) => {\n        resolvePromise += 1;\n        console.log(`${ position }/${ amount }: ВЫПОЛНЕН №_${ resolvePromise } с задержкой ${ delay } ms`); \n      })\n      .catch(({ position, delay }) => {\n        rejectPromise += 1\n        console.log(`${ position }/${ amount }: ОТКЛОНЕН №_${ rejectPromise } с задержкой ${ delay } ms`); \n        \n      })\n  }\n}\n"],"names":["formRef","document","querySelector","addEventListener","evt","preventDefault","delay","delay1","step","amount","i","$47d4ff9957288465$var$createPromise","then","position","$47d4ff9957288465$var$resolvePromise","console","log","catch","$47d4ff9957288465$var$rejectPromise","$47d4ff9957288465$var$totalPromise","Number","value","$47d4ff9957288465$var$getInputValues","elements","shouldResolve","Math","random","Promise","resolve","reject","setTimeout"],"version":3,"file":"03-promises.2af5fd15.js.map"}